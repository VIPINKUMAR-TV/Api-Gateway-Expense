spring.application.name=api-gateway
server.port=8080

spring.cloud.compatibility-verifier.enabled=false
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration

# ===============================
# ROUTES (NEW SPRING 2023+ KEYS)
# ===============================

# Category Service
spring.cloud.gateway.server.webflux.routes[0].id=category-service
spring.cloud.gateway.server.webflux.routes[0].uri=http://category-service:8082
spring.cloud.gateway.server.webflux.routes[0].predicates[0]=Path=/api/categories/**

# Day Service
spring.cloud.gateway.server.webflux.routes[1].id=day-service
spring.cloud.gateway.server.webflux.routes[1].uri=http://day-service:8081
spring.cloud.gateway.server.webflux.routes[1].predicates[0]=Path=/api/days/**

# Auth Service
spring.cloud.gateway.server.webflux.routes[2].id=auth-service
spring.cloud.gateway.server.webflux.routes[2].uri=http://auth-service:8083
spring.cloud.gateway.server.webflux.routes[2].predicates[0]=Path=/api/auth/**

# ===============================
# CORS (NEW SPRING 2023+ KEYS)
# ===============================

spring.cloud.gateway.server.webflux.globalcors.add-to-simple-url-handler-mapping=true
spring.cloud.gateway.server.webflux.globalcors.cors-configurations.[/**].allowedOriginPatterns=*
spring.cloud.gateway.server.webflux.globalcors.cors-configurations.[/**].allowedMethods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.server.webflux.globalcors.cors-configurations.[/**].allowedHeaders=*
spring.cloud.gateway.server.webflux.globalcors.cors-configurations.[/**].allowCredentials=true

# ===============================
# JWT CONFIG (USED IN FILTER)
# ===============================
jwt.secret=mysupersecretkey_1234567890_ABCDEFGHIJKLMNOPQRSTUVWXYZ_0987654321_superlongkey
jwt.expiration=86400000